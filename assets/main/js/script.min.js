import{preloadImages}from"../../libs/utils.js";$=jQuery;let lenis=new Lenis;function customDropdown(){let e=document.querySelectorAll(".dropdown-custom, .dropdown-custom-select");function c(o){e.forEach(e=>{var t=e.querySelector(".dropdown-custom-menu"),n=e.querySelector(".dropdown-custom-btn");o&&e===o||(t.classList.remove("dropdown--active"),n.classList.remove("--active"))})}e.forEach(r=>{let t=r.querySelector(".dropdown-custom-btn"),n=r.querySelector(".dropdown-custom-menu");var e=r.querySelectorAll(".dropdown-custom-item");let s=r.querySelector(".value-select"),i=r.querySelector(".dropdown-custom-text"),a=r.classList.contains("dropdown-custom-select");t.addEventListener("click",function(e){e.stopPropagation(),c(r),n.classList.toggle("dropdown--active"),t.classList.toggle("--active")}),document.addEventListener("click",function(){c()}),e.forEach(o=>{o.addEventListener("click",function(e){var t,n;e.stopPropagation(),a?(e=o.textContent,i.textContent=e,r.classList.add("selected")):(e=(e=s.querySelector("img"))?e.src:"",t=s.querySelector("span").textContent,n=o.innerHTML,s.innerHTML=n,"Time"!==t.trim()&&(o.innerHTML=e?`<span>${t}</span><img src="${e}" alt="" />`:`<span>${t}</span>`)),c()})}),window.addEventListener("scroll",function(){n.closest(".header-lang")&&(n.classList.remove("dropdown--active"),t.classList.remove("--active"))})})}function hero(){$("section.hero").length<1||(document.querySelector(".swiper-banner .progress-bar"),new Swiper(".swiper-banner",{loop:!0,speed:900,effect:"fade",grabCursor:!0,watchSlidesProgress:!0,mousewheelControl:!0,keyboardControl:!0,navigation:{nextEl:".swiper-banner .swiper-next",prevEl:".swiper-banner .swiper-prev"},pagination:{el:".swiper-banner .swiper-pagination",type:"progressbar"},autoplay:{delay:5e3,disableOnInteraction:!1},on:{init:function(e){var t=e.slides[e.activeIndex].querySelector(".slide-banner img");t&&(t.style.transform="scale(1.1)",setTimeout(function(){t.style.transition="transform 5000ms ease-out",t.style.transform="scale(1)"},50))},setTransition:function(e,t){var n="cubic-bezier(0.25, 0.1, 0.25, 1)";e.slides.forEach(function(e){e.style.transition=t+"ms "+n;e=e.querySelector(".slide-banner");e&&(e.style.transition=t+"ms "+n)})},slideChangeTransitionStart:function(e){e.slides.forEach(function(e){e=e.querySelector(".slide-banner img");e&&(e.style.transform="scale(1.1)")})},slideChangeTransitionEnd:function(e){e=e.slides[e.activeIndex].querySelector(".slide-banner img");e&&(e.style.transition="transform 5000ms ease-out",e.style.transform="scale(1)")}}}),0<$("section.hero").length&&0<$("section.intro").length&&991<$(window).width()&&ScrollTrigger.create({start:0,end:"max",onUpdate:e=>{var t=1.4*window.innerHeight;e.scroll()>=t?$(".hero").addClass("hidden-section"):$(".hero").removeClass("hidden-section")}}))}lenis.on("scroll",ScrollTrigger.update),gsap.ticker.add(e=>{lenis.raf(1e3*e)}),gsap.ticker.lagSmoothing(0);let init=()=>{gsap.registerPlugin(ScrollTrigger),customDropdown(),hero()},isLinkClicked=(preloadImages("img").then(()=>{init()}),!1);$("a").on("click",function(e){!this.href||this.href.match(/^#/)||this.href.match(/^javascript:/)||(isLinkClicked=!0,console.log("1"))}),$(window).on("beforeunload",function(){isLinkClicked||$(window).scrollTop(0),isLinkClicked=!1});