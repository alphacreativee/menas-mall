let locations={},selectedCity="",selectedLocation=null;function loadLocationsFromHTML(){document.getElementById("locationData").querySelectorAll(".city").forEach(e=>{let t=e.getAttribute("data-city");locations[t]=[],e.querySelectorAll(".location").forEach(e=>{locations[t].push({name:e.getAttribute("data-name"),url:e.getAttribute("data-url")})})}),selectedCity=Object.keys(locations)[0],selectedLocation=locations[selectedCity][0]}function generateTabs(){let c=document.getElementById("tabs");c.innerHTML="",Object.keys(locations).forEach((e,t)=>{var n=document.createElement("button");n.className="tab-btn",0===t&&n.classList.add("active"),n.setAttribute("data-city",e),n.textContent=e,c.appendChild(n)})}document.addEventListener("DOMContentLoaded",function(){loadLocationsFromHTML(),generateTabs();let t=document.getElementById("dropdownInput"),n=document.getElementById("locationInput"),c=document.getElementById("dropdownMenu");var e=document.querySelector(".discover-btn");function a(){c.classList.toggle("active"),t.classList.toggle("active")}function o(){c.innerHTML="",locations[selectedCity].forEach(e=>{var t=document.createElement("div");t.className="dropdown-item",e.name===selectedLocation.name&&t.classList.add("selected"),t.innerHTML=`<p>${e.name}</p>`,t.addEventListener("click",function(){selectedLocation=e,n.value=e.name,document.querySelectorAll(".dropdown-item").forEach(e=>{e.classList.remove("selected")}),this.classList.add("selected"),a()}),c.appendChild(t)})}n.value=selectedLocation.name,o(),e.addEventListener("click",function(){document.querySelector(".popup-select-wrapper").classList.add("hidden")}),t.addEventListener("click",function(e){e.stopPropagation(),a()}),document.addEventListener("click",function(e){t.contains(e.target)||c.contains(e.target)||(c.classList.remove("active"),t.classList.remove("active"))}),document.getElementById("tabs").addEventListener("click",function(e){e.target.classList.contains("tab-btn")&&(document.querySelectorAll(".tab-btn").forEach(e=>e.classList.remove("active")),e.target.classList.add("active"),selectedCity=e.target.getAttribute("data-city"),selectedLocation=locations[selectedCity][0],n.value=selectedLocation.name,o())})});